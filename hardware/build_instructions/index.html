<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Build Instructions - MuSHR: The UW Open Racecar Project</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link rel="icon" href="https://mushr.io/favicon.png">

  
  
  <link rel="stylesheet" href="/css/style.min.c2afc1cc4aaac1ae8d3c6236f926d4fa21d34d80395cf9445c90f953db695e44.css">
  

  

</head>

<body class='page page-tutorials-single'>
  <div id="main-menu-mobile" class="main-menu-mobile">
  <ul>
    
    
    <li class="menu-item-quickstart">
      <a href="/tutorials/quickstart/">
        
        <span>Quickstart</span>
      </a>
    </li>
    
    <li class="menu-item-about">
      <a href="/about/">
        
        <span>About</span>
      </a>
    </li>
    
    <li class="menu-item-docs">
      <a href="https://github.com/prl-mushr/mushr#component-documentation">
        
        <span>Docs</span>
      </a>
    </li>
    
    <li class="menu-item-hardware">
      <a href="/hardware/">
        
        <span>Hardware</span>
      </a>
    </li>
    
    <li class="menu-item-tutorials">
      <a href="/tutorials/">
        
        <span>Tutorials</span>
      </a>
    </li>
    
    <li class="menu-item-press">
      <a href="/press/">
        
        <span>Press</span>
      </a>
    </li>
    
    <li class="menu-item-team">
      <a href="https://personalrobotics.cs.washington.edu/people/">
        
        <span>Team</span>
      </a>
    </li>
    
    <li class="menu-item-contact">
      <a href="/contact/">
        
        <span>Contact</span>
      </a>
    </li>
    
  </ul>
</div>
  <div class="wrapper">
    <div class='header'>
  <div class="container">
    <div class="logo">
      <a href="https://mushr.io/"><img alt="Figurit Homepage" src="https://mushr.io/imgs/mushr-logo.svg" /></a>
    </div>
    <div class="logo-mobile">
      <a href="https://mushr.io/"><img alt="Figurit Homepage" src="https://mushr.io/imgs/mushr-logo.svg" /></a>
    </div>
    <div id="main-menu" class="main-menu">
  <ul>
    
    
    <li class="menu-item-quickstart">
      <a href="/tutorials/quickstart/">
        
        <span>Quickstart</span>
      </a>
    </li>
    
    <li class="menu-item-about">
      <a href="/about/">
        
        <span>About</span>
      </a>
    </li>
    
    <li class="menu-item-docs">
      <a href="https://github.com/prl-mushr/mushr#component-documentation">
        
        <span>Docs</span>
      </a>
    </li>
    
    <li class="menu-item-hardware">
      <a href="/hardware/">
        
        <span>Hardware</span>
      </a>
    </li>
    
    <li class="menu-item-tutorials">
      <a href="/tutorials/">
        
        <span>Tutorials</span>
      </a>
    </li>
    
    <li class="menu-item-press">
      <a href="/press/">
        
        <span>Press</span>
      </a>
    </li>
    
    <li class="menu-item-team">
      <a href="https://personalrobotics.cs.washington.edu/people/">
        
        <span>Team</span>
      </a>
    </li>
    
    <li class="menu-item-contact">
      <a href="/contact/">
        
        <span>Contact</span>
      </a>
    </li>
    
  </ul>
</div>
    <button id="toggle-main-menu-mobile" class="hamburger hamburger--slider" role="presentation" aria-label="mobile menu trigger">
  <span class="hamburger-box">
    <span class="hamburger-inner"></span>
  </span>
</button>
  </div>
</div>
    
<div class="container pb-6 pt-6 pt-md-10 pb-md-10">
  <div class="row justify-content-start">
    <div class="col-12 col-md-8">
      <div class="tutorial tutorial-single">
        <h1 class="title">Build Instructions</h1>
        <div class="content"> 
          
          <p>Build your own MuSHR Racecar!</p> 
          
          <p>This page provides instructions for building the MuSHR Racecar. For each section, we recommend reading through each of the section's steps before attempting it. You can watch the MuSHR Racecar being built <a href="https://www.youtube.com/watch?v=NP7qljzG3RU&amp;list=PLU9BrzGX4PH2DHZzxOg2gEkLMXhpkS7fV">here</a>.</p>
<hr>
<h2 id="table-of-contents">Table of Contents</h2>
<ol>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#vesc-preparation">VESC Preparation</a></li>
<li><a href="#servo-motor-removal">Servo Motor Removal</a></li>
<li><a href="#brushed-motor-removal">Brushed Motor Removal</a></li>
<li><a href="#brushless-motor-installation">Brushless Motor Installation</a></li>
<li><a href="#servo-motor-installation">Servo Motor Installation</a></li>
<li><a href="#lower-platform-installation">Lower Platform Installation</a></li>
<li><a href="#buck-converter-configuration">Buck Converter Configuration</a></li>
<li><a href="#push-button-installation">Push Button Installation</a></li>
<li><a href="#ydlidar-installation">YDIDAR Installation</a></li>
<li><a href="#jetson-nano-wi-fi-card-installation">Jetson Nano Wi-Fi Card Installation</a></li>
<li><a href="#sd-card-setup">SD Card Setup</a></li>
<li><a href="#back-cover-installation">Back Cover Installation</a></li>
<li><a href="#front-cover-installation">Front Cover Installation</a></li>
<li><a href="#final-assembly">Final Assembly</a></li>
<li><a href="#software-setup">Software Setup</a></li>
<li><a href="#teleoperate-the-robot">Teleoperate the Robot</a></li>
</ol>
<hr>
<h2 id="prerequisites">Prerequisites</h2>
<p>In this section, we will provide resources for obtaining the parts necessary to build the MuSHR Racecar.</p>
<p><strong>Bill of Materials</strong></p>
<p>The bill of materials  below describes the necesssary materials for building the MuSHR Racecar, including links to vendors. It can be downloaded <a href="https://github.com/prl-mushr/mushr/raw/master/mushr_docs/hardware/mushr_nano_bill_of_materials.pdf">here</a>.</p>
<iframe src="https://docs.google.com/gview?url=https://github.com/prl-mushr/mushr/raw/master/mushr_docs/hardware/mushr_nano_bill_of_materials.pdf &embedded=true" style="width:800px;height:550px;padding-bottom:50px" frameborder="0"></iframe>
<p><strong>3D Printed Parts</strong></p>
<p>The upper portion of the MuSHR Racecar's frame is 3D printed. All of the parts that must be printed are provided as .stl files <a href="https://github.com/prl-mushr/mushr_cad/tree/master/v3/stl">here</a>. If you would like to modify the logo on the sides of the robot, follow <a href="/hardware/logo_modification">these instructions</a> to generate new .stl files.</p>
<hr>
<h2 id="vesc-preparation">VESC Preparation</h2>
<p>In this section, we will prepare the VESC's connectors for installation. Note that one end of the VESC connects to the BLDC motor, while the other end connects to the 5000 mAH NiMH battery. We assume that the VESC is already outfitted with 4mm bullet connectors for interfacing with the BLDC motor. However, a connector for interfacing with the battery must be added to the VESC. The addition of this connector will be detailed in the following steps.</p>
<iframe width="800" height="450" style="margin-bottom:25px" src="https://www.youtube.com/embed/NP7qljzG3RU?list=PLU9BrzGX4PH2DHZzxOg2gEkLMXhpkS7fV" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p><strong>Required Materials and Tools</strong></p>
<ul>
<li>VESC</li>
<li>1/4&rdquo; Heat Shrink</li>
<li>2x Solderless Wire Connectors (Heat Shrink Butt Connector)</li>
<li>Battery Connector 4mm</li>
<li>USB Mini Cable 1 ft</li>
<li>Wire Stripper/Cutter</li>
<li>Scissors</li>
<li>Crimping Tool</li>
<li>Heat Gun</li>
</ul>
<p><strong>Steps</strong></p>
<ol>
<li>
<p>If the VESC's battery wires are already tinned with solder, use the wire cutter to remove the tinned segments such that the individual wire strands are not soldered together.</p>
</li>
<li>
<p>Use the wire stripper to remove 1 cm of insulation from each of the VESC's battery wires and each of the battery connector's wires.</p>
</li>
<li>
<p>Use the scissors to cut two pieces of black 1/4&rdquo; heat shrink. The length of each piece should be approximately 1 cm longer than the length of the solderless wire connector.</p>
</li>
<li>
<p>Slip a piece of cut heatshrink (from the previous step) onto each of the VESC's battery wires. Slide them down along the wires, towards the VESC's circuitry. They will be heat shrunk in a later step. (Fig. 1.1)</p>
<figure>
    <img src="/hardware/build_instructions/01_01_heat_shrink_slip.png"
         alt="Fig. 1.1" width="800"/> <figcaption>
            <p>Fig. 1.1</p>
        </figcaption>
</figure>

</li>
<li>
<p>For each stripped wire, twist the wire strands into a tight bunch such that they can fit inside of the solderless wire connectors. (Fig. 1.2)</p>
<figure>
    <img src="/hardware/build_instructions/01_02_twist_wire_strands.jpg"
         alt="Fig. 1.2" width="800"/> <figcaption>
            <p>Fig. 1.2</p>
        </figcaption>
</figure>

</li>
<li>
<p>Insert the stripped end of one of the battery connector's wires into the solderless wire connector. The exposed copper should be inside of the metallic cylinder of the solderless wire connector. Ensure that no exposed copper is sticking out of the solderless wire connector. (Fig. 1.3)</p>
<figure>
    <img src="/hardware/build_instructions/01_03_solderless_insert.png"
         alt="Fig. 1.3" width="800"/> <figcaption>
            <p>Fig. 1.3</p>
        </figcaption>
</figure>

</li>
<li>
<p>Use the crimping tool to crimp the solderless wire connector onto the battery connector's exposed copper. Ensure that the crimp is tight and complete by holding onto the solderless wire connector and tugging on the crimped wire. If tugging causes the connection to slip or disconnect, go back to step 5. (Fig 1.4)</p>
<figure>
    <img src="/hardware/build_instructions/01_04_solderless_crimp.png"
         alt="Fig. 1.4" width="800"/> <figcaption>
            <p>Fig. 1.4</p>
        </figcaption>
</figure>

</li>
<li>
<p>Insert the stripped end of the VESC's corresponding battery wire (i.e. the one that has the same color as the battery connector from the previous step) into the uncrimped end of the solderless wire connector. Repeat step 4 as necessary. Again, ensure that the exposed copper is inside of the solderless battery connector's metallic cylinder, but that no exposed copper is sticking out of the solderless wire connector.</p>
</li>
<li>
<p>Repeat the process described in step 7 for the VESC's inserted battery wire (instead of the battery connector wire).</p>
</li>
<li>
<p>Perform a final check of the strength of the connection by stiffly tugging on both of the crimped wires.</p>
</li>
<li>
<p>Use the heat gun to uniformly heat the solderless wire connector until it has completely shrunk. Be careful not to apply excessive heat.</p>
</li>
<li>
<p>Once the solderless wire connector has  cooled down, adjust the 1/4&rdquo; heat shrink so that it completely covers the solderless wire connector.(Fig. 1.5)</p>
<figure>
    <img src="/hardware/build_instructions/01_05_heat_shrink_adjust.png"
         alt="Fig. 1.5" width="800"/> <figcaption>
            <p>Fig. 1.5</p>
        </figcaption>
</figure>

</li>
<li>
<p>Use the heat gun to uniformly heat the heat shrink until it has completely shrunk. (Fig. 1.6)</p>
<figure>
    <img src="/hardware/build_instructions/01_06_apply_heat.png"
         alt="Fig. 1.6" width="800"/> <figcaption>
            <p>Fig. 1.6</p>
        </figcaption>
</figure>

</li>
<li>
<p>This completes the connection of one of the battery wires. Repeat steps 6 through 13 for the other wire. (Fig. 1.7)</p>
<figure>
    <img src="/hardware/build_instructions/01_07_vesc_complete.png"
         alt="Fig. 1.7" width="800"/> <figcaption>
            <p>Fig. 1.7</p>
        </figcaption>
</figure>

</li>
<li>
<p>Plug the USB mini cable into the VESC.</p>
</li>
</ol>
<hr>
<h2 id="servo-motor-removal">Servo Motor Removal</h2>
<p>In this section, we will describe the steps necessary to remove the stock servo motor from the chassis. In a later section, we will install a more powerful servo motor.</p>
<iframe width="800" height="450" style="margin-bottom:25px" src="https://www.youtube.com/embed/RfAPBACZOO8?list=PLU9BrzGX4PH2DHZzxOg2gEkLMXhpkS7fV" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p><strong>Required Materials and Tools</strong></p>
<ul>
<li>Hex Keys</li>
<li>Racecar Chasis</li>
<li>Philips Screwdriver</li>
<li>Pliers</li>
</ul>
<p><strong>Steps</strong></p>
<ol>
<li>
<p>Flip the car over and remove the five screws that are holding the motor in place. (Fig. 2.1)</p>
<figure>
    <img src="/hardware/build_instructions/02_01_servo_holes.png"
         alt="Fig. 2.1" width="800"/> <figcaption>
            <p>Fig. 2.1</p>
        </figcaption>
</figure>

</li>
<li>
<p>Flip the chassis back over and take out the servo motor mount. It is still connected to the brushed motor, which will be removed in the next section.</p>
</li>
<li>
<p>A linkage connects the servo arm to the chassis. Use pliers to disconnect this linkage from the chassis. (Fig. 2.2)</p>
<figure>
    <img src="/hardware/build_instructions/02_02_servo_arm_link.png"
         alt="Fig. 2.2" width="800"/> <figcaption>
            <p>Fig. 2.2</p>
        </figcaption>
</figure>

</li>
<li>
<p>Unscrew the servo motor arm from the servo motor. Remove the linkage from the servo arm. (Fig. 2.3)</p>
<figure>
    <img src="/hardware/build_instructions/02_03_remove_servo_arm.png"
         alt="Fig. 2.3" width="800"/> <figcaption>
            <p>Fig. 2.3</p>
        </figcaption>
</figure>

</li>
<li>
<p>Keep the metal linkage, as it will be used later when we install a more powerful servo motor.</p>
</li>
</ol>
<hr>
<h2 id="brushed-motor-removal">Brushed Motor Removal</h2>
<p>In this section, we will remove the brushed motor that comes with the chassis. Removing the brushed motor and replacing it with a BLDC motor (as detailed in the following section) requires a significant amount of time and effort. An alternative is to instead buy the Pro Version of the Redcat Blackout racecar chassis. This will lead to a slightly more expensive build, but that chassis already has a BLDC motor installed.</p>
<iframe width="800" height="450" style="margin-bottom:25px" src="https://www.youtube.com/embed/f6ZgVGyAUyk?list=PLU9BrzGX4PH2DHZzxOg2gEkLMXhpkS7fV" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p><strong>Required Materials and Tools</strong></p>
<ul>
<li>Racecar Chasis</li>
<li>Hex Keys</li>
<li>Philips Screwdriver</li>
<li>Pliers</li>
</ul>
<p><strong>Steps</strong></p>
<ol>
<li>
<p>Use the screw driver to remove the front and back cover mounts. (Fig. 3.1)</p>
<figure>
    <img src="/hardware/build_instructions/03_01_remove_mounts.png"
         alt="Fig. 3.1" width="800"/> <figcaption>
            <p>Fig. 3.1</p>
        </figcaption>
</figure>

</li>
<li>
<p>A metal bar holds the upper suspension between the chassis and right rear wheel in place. This metal bar is in turn held in place by a screw. This screw is highlighted in Fig 3.2 below, remove it.</p>
<figure>
    <img src="/hardware/build_instructions/03_02_remove_bar_screw.png"
         alt="Fig. 3.2" width="800"/> <figcaption>
            <p>Fig. 3.2</p>
        </figcaption>
</figure>

</li>
<li>
<p>Remove the metal bar that is holding the upper suspension in place by wiggling the upper suspension back and forth. Apply downwards pressure onto the upper suspension while wiggling it back and forth. This method is a bit tricky, and requires a little bit of patience. Alternatively, the metal bar can be pushed out by inserting a small object into the front of the bar's cavity. Once a few millimeters of the metal bar has been wiggled/pushed out, use pliers to fully pull it out while continuing to wiggle the upper suspension as necessary. (Fig. 3.3)</p>
<figure>
    <img src="/hardware/build_instructions/03_03_remove_bar.png"
         alt="Fig. 3.3" width="800"/> <figcaption>
            <p>Fig. 3.3</p>
        </figcaption>
</figure>

</li>
<li>
<p>Store the metal bar and screw, they will be re-installed later.</p>
</li>
<li>
<p>Two linkages connect the motor gear cover to the rear wheel mounts. Pry both of these linkages off of the motor gear cover with a screw driver or pliers. (Fig. 3.4)</p>
<figure>
    <img src="/hardware/build_instructions/03_04_remove_rear_linkages.png"
         alt="Fig. 3.4" width="800"/> <figcaption>
            <p>Fig. 3.4</p>
        </figcaption>
</figure>

</li>
<li>
<p>Rotate the rear right wheel away from the chassis to release the wheel shaft. Store this shaft for later re-installation.</p>
</li>
<li>
<p>Flip the car over and remove the nine screws that attach the rear suspension, motor mount, and the motor gear cover to the chassis of the car. (Fig 3.5)</p>
<figure>
    <img src="/hardware/build_instructions/03_05_rear_suspension_screws.png"
         alt="Fig. 3.5" width="800"/> <figcaption>
            <p>Fig. 3.5</p>
        </figcaption>
</figure>

</li>
<li>
<p>Flip the car back over and remove the four screws on top of the motor gear cover. (Fig 3.6)</p>
<figure>
    <img src="/hardware/build_instructions/03_06_motor_cover_screws.png"
         alt="Fig. 3.6" width="800"/> <figcaption>
            <p>Fig. 3.6</p>
        </figcaption>
</figure>

</li>
<li>
<p>Remove the motor gear cover.</p>
</li>
<li>
<p>Remove the two screws that secure the motor to its mount. (Fig. 3.7, Fig. 3.8) Be sure to orient the screwdriver as perpendicularly as possible with the face of the screw to avoid stripping the screw.</p>
<figure>
    <img src="/hardware/build_instructions/03_07_brushed_motor_mount_screws1.png"
         alt="Fig. 3.7" width="800"/> <figcaption>
            <p>Fig. 3.7</p>
        </figcaption>
</figure>

<figure>
    <img src="/hardware/build_instructions/03_08_brushed_motor_mount_screws2.png"
         alt="Fig. 3.8" width="800"/> <figcaption>
            <p>Fig. 3.8</p>
        </figcaption>
</figure>

</li>
<li>
<p>To finally release the motor, we must remove the motor gear pinion. First, rotate the motor gear pinion so that the screw is facing towards the right side of the chassis such that it is aligned with the indent in the plastic motor mount. This indent allows for extra space when inserting a hex key.</p>
<p><strong>Take extra caution in this step because the motor gear pinion screw is extremely tight and can easily be stripped, leaving the motor stuck. It may be helpful to apply heat to the motor gear pinion screw in order to dissolve the thread locker that has been applied. A soldering iron or heat gun can be used to apply heat. When unscrewing, make sure to check that the hex key tightly fits inside of the screw hole, and push the hex key into the screw hole with a large amount of pressure WHILE UNSCREWING to ensure that it does not slip out. If you feel the hex key starting to slip or strip, stop unscrewing and re-insert the hex key before trying again.</strong></p>
<p>Using the above bolded guidelines, insert the hex key and remove the motor gear pinion screw. (Fig. 3.9)</p>
<figure>
    <img src="/hardware/build_instructions/03_09_motor_pinion_removal.png"
         alt="Fig. 3.9" width="800"/> <figcaption>
            <p>Fig. 3.9</p>
        </figcaption>
</figure>

</li>
<li>
<p>With the motor gear pinion screw removed, slip the motor gear pinion off of the motor shaft and remove the brushed motor from the motor mount. The motor gear pinion and its screw will be reused when installing the BLDC motor.</p>
</li>
</ol>
<hr>
<h2 id="brushless-motor-installation">Brushless Motor Installation</h2>
<p>In this section, we will install the BLDC motor.</p>
<iframe width="800" height="450" style="margin-bottom:25px" src="https://www.youtube.com/embed/rM5E-nxRlNg?list=PLU9BrzGX4PH2DHZzxOg2gEkLMXhpkS7fV" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p><strong>Required Materials and Tools:</strong></p>
<ul>
<li>BLDC Motor</li>
<li>Racecar Chasis</li>
<li>Hex Keys</li>
<li>Philips Screwdriver</li>
<li>Pliers</li>
</ul>
<p><strong>Steps</strong></p>
<ol>
<li>
<p>Orient the motor so that the wires are above the motor casing.</p>
</li>
<li>
<p>Mount the motor to the chassis by inserting screws into the lower hole of the upper right pair and the upper hole of the lower left pair (Fig. 4.1). Use the same screws that previously held the brushed motor in place.</p>
<figure>
    <img src="/hardware/build_instructions/04_01_motor_mount_holes.png"
         alt="Fig. 4.1" width="800"/> <figcaption>
            <p>Fig. 4.1</p>
        </figcaption>
</figure>

</li>
<li>
<p>Re-insert the drive shaft if it is no longer in position. (Fig. 4.2)</p>
<figure>
    <img src="/hardware/build_instructions/04_02_drive_shaft.png"
         alt="Fig. 4.2" width="800"/> <figcaption>
            <p>Fig. 4.2</p>
        </figcaption>
</figure>

</li>
<li>
<p>Flip the car onto its side and re-insert the three screws that fasten the motor mount to the chasis. This ensures that the drive shaft will stay in place.</p>
</li>
<li>
<p>Note that the motor shaft is not entirely round, there is a flat edge. Locate that flat edge, and use pliers to rotate the shaft so that the flat edge is facing towards the right side of the chassis.</p>
</li>
<li>
<p>Re-install the motor gear pinion so that the screw hole of the motor gear pinion is aligned with the flat side of the motor shaft. Thus, once the screw is reinserted (don't do it yet), the end of the screw will be in contact with the flat edge of the motor shaft, preventing the motor gear pinion from slipping. Also, ensure that the motor gear pinion is pushed as far back onto the shaft as possible while at the same time being able to be screwed in from the right side. (Fig 4.3)</p>
<figure>
    <img src="/hardware/build_instructions/04_03_motor_shaft_flat.png"
         alt="Fig. 4.3" width="800"/> <figcaption>
            <p>Fig. 4.3</p>
        </figcaption>
</figure>

</li>
<li>
<p>Insert the motor gear pinion screw. Tighten the screw as much as possible, but be careful not to strip it.</p>
</li>
<li>
<p>Lift the car and spin the drive shaft gear to test that the drive shaft and motor gears have properly mated. The motor gear should turn as you spin the drive shaft gear without much resistance.</p>
</li>
<li>
<p>Re-insert the right rear wheel shaft and rotate the rear wheel towards the chassis to hold it in place.</p>
</li>
<li>
<p>Place the upper suspension back to its original position, and secure it in place by re-inserting the metal rod. Use pliers to re-insert the rod if necessary.</p>
</li>
<li>
<p>Re-install the screw that originally held the metal rod in place. (Fig. 4.4)</p>
<figure>
    <img src="/hardware/build_instructions/04_04_reinsert_bar_screw.png"
         alt="Fig. 4.4" width="800"/> <figcaption>
            <p>Fig. 4.4</p>
        </figcaption>
</figure>

</li>
<li>
<p>Re-install the plastic motor gear cover into its original position.</p>
</li>
<li>
<p>Re-attach the two rear linkages to the motor gear cover by pushing their unconnected ends back down onto the metal balls. Use pliers if necessary.</p>
</li>
<li>
<p>Flip the car over and re-insert all of the screws that attach the rear suspension to the car chassis. (Fig. 4.5)</p>
<figure>
    <img src="/hardware/build_instructions/04_05_reattach_rear_suspension.png"
         alt="Fig. 4.5" width="800"/> <figcaption>
            <p>Fig. 4.5</p>
        </figcaption>
</figure>

</li>
<li>
<p>Flip the car back over, place it on the floor, and lightly push it forward. The car should freely move forward at least a few feet before coasting to a stop. Then repeat, except push it backwards. If the car doesn't freely move forward/backward, the motor gear pinion is most likely not pushed in far enough and is rubbing against the motor gear cover. Go back to step 6 if this is the case.</p>
</li>
<li>
<p>Insert the four top screws into the motor gear cover to secure it. (Fig. 4.6)</p>
<figure>
    <img src="/hardware/build_instructions/04_06_reattach_motor_cover.png"
         alt="Fig. 4.6" width="800"/> <figcaption>
            <p>Fig. 4.6</p>
        </figcaption>
</figure>

</li>
<li>
<p>Again verify that the car moves freely when pushed (as described in step 15). If it does, the brushless motor has been successfully installed.</p>
</li>
</ol>
<hr>
<h2 id="servo-motor-installation">Servo Motor Installation</h2>
<p>In this section, we will install a servo motor into the racecar chassis. Compared to the stock servo motor, the replacement servo motor is much more powerful. This allows the racecar to effectively steer, despite the additional weight that will be mounted to the chassis in later sections.</p>
<iframe width="800" height="450" style="margin-bottom:25px" src="https://www.youtube.com/embed/6gLctsHY984?list=PLU9BrzGX4PH2DHZzxOg2gEkLMXhpkS7fV" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p><strong>Required Materials and Tools</strong></p>
<ul>
<li>Racecar Chasis</li>
<li>3D Printed Parts
<ul>
<li>Servo Cage</li>
</ul>
</li>
<li>6x M2.5 Hex Nuts</li>
<li>2x M2.5 Flat Head Screws</li>
<li>4x M2.5 Pan Head Screws</li>
<li>20 KG servo motor</li>
<li>Threadlocker</li>
<li>Hex Keys</li>
<li>Philips Screwdriver</li>
<li>Pliers</li>
</ul>
<p><strong>Steps</strong></p>
<ol>
<li>
<p>Insert six hex nuts into the inlets below each of the servo cage's screw holes. (Fig. 5.1)</p>
<figure>
    <img src="/hardware/build_instructions/05_01_servo_hex_nuts.png"
         alt="Fig. 5.1" width="800"/> <figcaption>
            <p>Fig. 5.1</p>
        </figcaption>
</figure>

</li>
<li>
<p>Take out the servo motor, but do not attach the metal arm yet. Orient the servo motor into the servo cage such that the motor gear is on the same side as the four screw holes, and the motor wire is oriented towards the knotch in the back of the servo cage.  The servo motor should prevent the six hex nuts from falling out of their holes. (Fig. 5.2)</p>
<figure>
    <img src="/hardware/build_instructions/05_02_mount_servo.png"
         alt="Fig. 5.2" width="800"/> <figcaption>
            <p>Fig. 5.2</p>
        </figcaption>
</figure>

</li>
<li>
<p>Insert four M2.5 pan head screws to mount the servo motor to the servo cage.</p>
</li>
<li>
<p>Attach the metal servo arm onto the servo motor so that it points directly upwards. (Fig. 5.3)</p>
<figure>
    <img src="/hardware/build_instructions/05_03_mount_servo_arm.png"
         alt="Fig. 5.3" width="800"/> <figcaption>
            <p>Fig. 5.3</p>
        </figcaption>
</figure>

</li>
<li>
<p>Use the screw that came with the servo motor to secure the servo arm to the servo motor.</p>
</li>
<li>
<p>Position the servo motor cage on the chassis. Orient it so that the servo arm is facing towards the right side of the race car and the wires run towards the back of the car. The two stubs on the servo motor cage should protrude through the corresponding holes of the chassis. (Fig. 5.4)</p>
<figure>
    <img src="/hardware/build_instructions/05_04_mount_servo_cage.png"
         alt="Fig. 5.4" width="800"/> <figcaption>
            <p>Fig. 5.4</p>
        </figcaption>
</figure>

</li>
<li>
<p>Flip the car over and attach the servo cage to the chassis with two M2.5 flat head screws.</p>
</li>
<li>
<p>Note the metal ball screwed into the <strong>old/stock</strong> servo arm. Unscrew it with the pliers.</p>
</li>
<li>
<p>Apply threadlocker to the threads of the metal ball. Then screw the ball into the lower hole of the <strong>new</strong> servo arm. Tighten it by screwing it with the pliers.</p>
</li>
<li>
<p>Re-attach the servo linkage that was removed from the old servo motor. First re-attach it to the chassis by pushing it down onto the chassis&rsquo; metal ball.</p>
</li>
<li>
<p>Line up the linkage with the servo arm's metal ball by turning the wheels and/or the servo arm, and then attach it with pliers. (Fig. 5.5)</p>
<figure>
    <img src="/hardware/build_instructions/05_05_reattach_servo_linkage.png"
         alt="Fig. 5.5" width="800"/> <figcaption>
            <p>Fig. 5.5</p>
        </figcaption>
</figure>

</li>
<li>
<p>Test that manually panning the wheels causes the servo arm to move forwards and backwards. If it does, the servo motor has been installed successfully.</p>
</li>
</ol>
<hr>
<h2 id="lower-platform-installation">Lower Platform Installation</h2>
<p>In this section, we will install the car's lower platform, which will serve as a foundation for mounting additional electronics. This involves attaching the VESC to the bottom of the foundation, mounting the foundation onto the racecar chassis, and affixing the buck converter to the top of the foundation.</p>
<iframe width="800" height="450" src="https://www.youtube.com/embed/I3N23HLMa20?list=PLU9BrzGX4PH2DHZzxOg2gEkLMXhpkS7fV" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p><strong>Required Materials and Tools</strong></p>
<ul>
<li>3D Printed Parts:
<ul>
<li>Back Foundation</li>
<li>Front Foundation</li>
<li>Lower Left Foundation Support</li>
<li>Lower Right Foundation Support</li>
<li>Upper Left Foundation Support</li>
<li>Crossbar Upper Support</li>
<li>Crossbar Buttom Support</li>
</ul>
</li>
<li>Racecar Chasis</li>
<li>VESC</li>
<li>Buck Converter</li>
<li>3 Pin Through Hole Male Header</li>
<li>Electrical Tape</li>
<li>4 x M3 Flathead Screws (40mm)</li>
<li>27x M2.5 Hex nuts</li>
<li>10x M2.5 Flat Head Screws</li>
<li>4x M2.5 Pan Head Screws</li>
<li>4x Nylon Spacers</li>
<li>Zip Ties</li>
<li>3000 mAH NiMH Battery (7.2 V)</li>
<li>Super Glue</li>
<li>Hex Keys</li>
<li>Philips Screwdriver</li>
</ul>
<p><strong>Steps</strong></p>
<ol>
<li>
<p>Put the 3000 mAH NiMH battery into the battery compartment on the left side of the racecar chassis. Orient the battery such that the wires run towards the front of the racecar chassis.</p>
</li>
<li>
<p>Use two M2.5 flat head screws and nuts to attach the two tabs extending out the back of the front foundation to the corresponding holes near the front of the back foundation.</p>
</li>
<li>
<p>Note the two holes in the middle of the metal crossbar that came with the racecar chassis. Align them with the two holes in the middle of the now unified foundation (the metal crossbar should be below the foundation), and then attach the metal crossbar to the foundation with two M2.5 flathead screws and nuts. (Fig. 6.1)</p>
<figure>
    <img src="/hardware/build_instructions/06_01_attach_crossbar.png"
         alt="Fig. 6.1" width="800"/> <figcaption>
            <p>Fig. 6.1</p>
        </figcaption>
</figure>

</li>
<li>
<p>Turn the foundation over so that the metal crossbar is on top. If using the <strong>DZS Elec LM2596</strong> buck converter, insert four M2.5 hex nuts into the holes outlined in red in Fig. 6.2. If using the <strong>DROK 180051US</strong> buck converter, insert four M2.5 hex nuts into the holes outlined in blue in Fig. 6.2. Add super glue into the spaces between the edge of the hole and the hex nuts in order to keep the hex nuts in place. Be careful not to get super glue into the threads of the hex nuts. Allow the super glue to dry before continuing.</p>
<figure>
    <img src="/hardware/build_instructions/06_02_insert_hex_nuts.png"
         alt="Fig. 6.2" width="800"/> <figcaption>
            <p>Fig. 6.2</p>
        </figcaption>
</figure>

</li>
<li>
<p>Insert two M2.5 hex nuts into the inlets below the screw holes of the lower right foundation support. Align the lower right foundation support with the corresponding screw holes on the foundation, and then use two M2.5 flat head screws to secure it to the foundation.</p>
<figure>
    <img src="/hardware/build_instructions/06_03_attach_lower_right_support.png"
         alt="Fig. 6.3" width="800"/> <figcaption>
            <p>Fig. 6.3</p>
        </figcaption>
</figure>

</li>
<li>
<p>Repeat step 5 for the lower left foundation support. (Fig 6.4)</p>
<figure>
    <img src="/hardware/build_instructions/06_04_lower_left_support.png"
         alt="Fig. 6.4" width="800"/> <figcaption>
            <p>Fig. 6.4</p>
        </figcaption>
</figure>

</li>
<li>
<p>Repeat step 5 for the upper left foundation support. (Fig 6.5)</p>
<figure>
    <img src="/hardware/build_instructions/06_05_upper_left_support.png"
         alt="Fig. 6.5" width="800"/> <figcaption>
            <p>Fig. 6.5</p>
        </figcaption>
</figure>

</li>
<li>
<p>Align the 3D printed lower crossbar support with the holes in the back of the metal crossbar, and insert two M3 40mm Flat Head screws down through the foundation. Repeat this for the 3D printed upper crossbar support and the front holes of the metal crossbar.</p>
</li>
<li>
<p>Now we will mount the VESC to the bottom of the foundation. Place it between the lower right foundation support and metal crossbar, such that it will be above the BLDC motor once the foundation has been mounted to chassis. Orient it such that the three BLDC motor connector wires run towards the back of the foundation, and the USB mini port faces towards the metal crossbar. (Fig. 6.6)</p>
<figure>
    <img src="/hardware/build_instructions/06_06_position_vesc.png"
         alt="Fig. 6.6" width="800"/> <figcaption>
            <p>Fig. 6.6</p>
        </figcaption>
</figure>

</li>
<li>
<p>Use zip ties slipped through the gaps in the foundation to mount the VESC to the foundation as shown in Fig. 6.7. Chain zip ties together if extra length is necessary. Make sure that the zip ties do not significantly protrude out from the top of the foundation.</p>
<figure>
    <img src="/hardware/build_instructions/06_07_attach_vesc.png"
         alt="Fig. 6.7" width="800"/> <figcaption>
            <p>Fig. 6.7</p>
        </figcaption>
</figure>

</li>
<li>
<p>Use zip ties to secure the VESC battery wires and USB mini cable to the bottom of the foundation. (Fig. 6.8)</p>
<figure>
    <img src="/hardware/build_instructions/06_08_attach_vesc_wires.png"
         alt="Fig. 6.8" width="800"/> <figcaption>
            <p>Fig. 6.8</p>
        </figcaption>
</figure>

</li>
<li>
<p>Use pliers to remove the individual pins from the 3 pin male header. Use these pins to connect the three pin female header of the VESC to the three pin female header of the servo motor. Connect them such that corresponding colors are connected together (e.g. Red connects to red, black connects to black/brown).</p>
</li>
<li>
<p>Wrap electrical tape around the connection between the VESC and servo motor.</p>
</li>
<li>
<p>Organize the servo motor wire into a neat bundle with a zip tie.</p>
</li>
<li>
<p>Orient the foundation right-side-up and align it with the chassis. Connect the VESC's motor wires to the BLDC motor. Assuming the VESC is positioned above the BLDC motor and oriented as described in step 9, each VESC wire should be connected to the BLDC motor in the corresponding position. That is, the furthest left VESC motor wire should be connected to the furthest left BLDC motor wire, the middle VESC wire should be connected to the middle BLDC motor wire, and the furthest right VESC wire should be connected to the furthest right BLDC motor wire. (Fig 6.9)</p>
<figure>
    <img src="/hardware/build_instructions/06_09_connect_vesc_motor.png"
         alt="Fig. 6.9" width="800"/> <figcaption>
            <p>Fig. 6.9</p>
        </figcaption>
</figure>

</li>
<li>
<p>Mount the foundation to the chassis by screwing in the four M3 40mm flathead screws that go through the crossbar supports to the race car chassis. This may be a tight fit due to the VESC, so push down on the foundation if necessary. Make sure that none of the supports get caught on the wall of the chassis and that none of the VESC's wires get caught between the foundation and the servo cage. (Fig 6.10)</p>
<figure>
    <img src="/hardware/build_instructions/06_10_mount_foundation.png"
         alt="Fig. 6.10" width="800"/> <figcaption>
            <p>Fig. 6.10</p>
        </figcaption>
</figure>

</li>
<li>
<p>Insert nine M2.5 hex nuts into the hex shaped holes along the inner surface of the foundation walls. Apply super glue in between the edges of each nut and the plastic, but be careful not to get super glue into the threads of the hex nuts.</p>
</li>
<li>
<p>Slip four M2.5 pan head screws through the mounting holes of the buck converter. Then slip a nylon spacer onto each of the screw shafts. Then screw a M2.5 hex nut onto each of the screw shafts until it loosely holds the nylon spacer against the bottom surface of the buck converter. (Fig. 6.11)</p>
<figure>
    <img src="/hardware/build_instructions/06_11_offset_buck_converter.png"
         alt="Fig. 6.11" width="800"/> <figcaption>
            <p>Fig. 6.11</p>
        </figcaption>
</figure>

</li>
<li>
<p>Insert the buck converter's mounting screws into the corresponding mounting holes of the foundation. (Fig. 6.12)</p>
<figure>
    <img src="/hardware/build_instructions/06_12_mount_buck_converter.png"
         alt="Fig. 6.12" width="800"/> <figcaption>
            <p>Fig. 6.12</p>
        </figcaption>
</figure>

</li>
</ol>
<hr>
<h2 id="buck-converter-configuration">Buck Converter Configuration</h2>
<p>In this section, we will configure the buck converter. The buck converter steps down the battery voltage (~7-8 V) to the voltage required by the Jetson Nano (5.0 V). Thus, we must perpare two connections: one between the battery and buck converter, and one between the buck converter and Jetson Nano. We will also adjust the buck converter's potentionmeter to achieve the correct output voltage.</p>
<iframe width="800" height="450" src="https://www.youtube.com/embed/5vMLs2rVPf4?list=PLU9BrzGX4PH2DHZzxOg2gEkLMXhpkS7fV" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p><strong>Required Materials and Tools</strong></p>
<ul>
<li>Barrel Connector 5.5x2.1 mm</li>
<li>2x Solderless Wire Connectors (Heat Shrink Butt Connector)</li>
<li>1/4&rdquo; Heat Shrink</li>
<li>Battery Connector</li>
<li>5000 mAH NiMH Battery</li>
<li>Hot Glue Gun</li>
<li>Heat Gun</li>
<li>Crimping Tool</li>
<li>Wire Stripper/Cutter</li>
<li>Flathead Screwdriver</li>
</ul>
<p><strong>Steps</strong></p>
<p><strong>Buck Converter to Jetson Nano Connection</strong></p>
<ol>
<li>
<p>Cut the barrel connector's wires to a length of approximately 30 cm. Keep the extra wire as we will reuse it later.</p>
</li>
<li>
<p>Strip approximately 7.5 mm of insulation off of the ends of the wires.</p>
</li>
<li>
<p>Use a flathead screwdriver to unscrew the output terminals of the buck converter. This allows the exposed ends of the barrel connector's wire to be slipped into the output terminals. <strong>The red wire should go into the terminal marked OUT+, and the black wire should go into the terminal marked OUT-.</strong> Push them in far enough such that no exposed copper hangs out of the output terminals (use wire cutters to shorten the exposed ends if necessary).</p>
<figure>
    <img src="/hardware/build_instructions/07_01_open_output_terminals.png"
         alt="Fig. 7.1" width="800"/> <figcaption>
            <p>Fig. 7.1</p>
        </figcaption>
</figure>

</li>
<li>
<p>While holding the wires in place, tighten the output terminal screws to secure the wires in place. Gently tug on the wires to check that they will not slip out of the output terminals. <strong>Again check that no exposed copper hangs out of the output terminal, and that there are no shorts between the two wires.</strong> (Fig. 7.2)</p>
<figure>
    <img src="/hardware/build_instructions/07_02_insert_output_wires.png"
         alt="Fig. 7.2" width="800"/> <figcaption>
            <p>Fig. 7.2</p>
        </figcaption>
</figure>

</li>
<li>
<p>Cover the wire insertion point and surrounding area in hot glue. This strengthens the connection and will further prevent short circuits between the two wires. (Fig. 7.3)</p>
<figure>
    <img src="/hardware/build_instructions/07_03_reinforce_output_wires.png"
         alt="Fig. 7.3" width="800"/> <figcaption>
            <p>Fig. 7.3</p>
        </figcaption>
</figure>

</li>
</ol>
<p><strong>Battery to Buck Converter Connection.</strong></p>
<ol start="6">
<li>
<p>Cut a length of wire of approximately 22 cm. Create this length of wire from the extra wire that was cut off of the barrel connector in step 1.</p>
</li>
<li>
<p>Using two solderless wire connectors and heat shrink, connect the 22cm length of wire to the battery connector. Use the exact same process that was detailed in the <em>VESC Preparation</em> section, particularly steps 2-13.</p>
</li>
<li>
<p>Install the other end of the 22 cm length of wire into the <strong>input</strong> terminals of the buck converter. The process is exactly the same as steps 2-5 in the previous subsection, except that <strong>the red wire should go into the terminal marked IN+, and the black wire should go into the terminal marked IN-</strong>.</p>
</li>
<li>
<p>The connections for the input and output of the buck converter are now complete, as shown in Fig 7.4.</p>
<figure>
    <img src="/hardware/build_instructions/07_04_insert_input_wires.png"
         alt="Fig. 7.4" width="800"/> <figcaption>
            <p>Fig. 7.4</p>
        </figcaption>
</figure>

</li>
</ol>
<p><strong>Buck Converter Voltage Adjustment</strong></p>
<p>The following instructions detail voltage adjustment for the <strong>DZS Elec LM2596</strong> buck converter. If you are using a different buck converter, follow the manufacturer's instructions to set the output voltage to 5V.</p>
<ol start="10">
<li>
<p>Before continuing, <strong>make sure that the barrel connector is NOT plugged into the Jetson Nano.</strong></p>
</li>
<li>
<p>Place the 5000 mAH battery in the lower foundation's right battery compartment, and plug it into the buck converter. The buck converter's LED screen should light up and display numbers.</p>
</li>
<li>
<p>Press the button labeled <strong>OUT</strong> on the buck converter.</p>
</li>
<li>
<p>Use a flat head screw driver to adjust the potentiometer until the LED screen displays <em>5.0</em>, which indicates that the buck converter is outputting 5V.</p>
</li>
<li>
<p>Unplug the battery from the buck converter.</p>
</li>
<li>
<p>Place hot glue over the potentiometer to prevent any inadvertant adjustment of the potentiometer in the future. (Fig. 7.5)</p>
<figure>
    <img src="/hardware/build_instructions/07_05_adjust_potentiometer.png"
         alt="Fig. 7.5" width="800"/> <figcaption>
            <p>Fig. 7.5</p>
        </figcaption>
</figure>

</li>
<li>
<p>Expose the adhesive backing of the heat sink that came with the buck converter and attach it to the IC shown in Fig. 7.6.</p>
<figure>
    <img src="/hardware/build_instructions/07_06_attach_heatsink.png"
         alt="Fig. 7.6" width="800"/> <figcaption>
            <p>Fig. 7.6</p>
        </figcaption>
</figure>

</li>
</ol>
<hr>
<h2 id="push-button-installation">Push Button Installation</h2>
<p>In this section, we will mount the push button to the chassis&rsquo; front bumper.</p>
<iframe width="800" height="450" style="margin-bottom:25px" src="https://www.youtube.com/embed/hrNcLfbRXBI?list=PLU9BrzGX4PH2DHZzxOg2gEkLMXhpkS7fV" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p><strong>Required Materials and Tools</strong></p>
<ul>
<li>Racecar Chassis</li>
<li>Push Button</li>
<li>4x Female to Female Jumper Cable</li>
<li>1K Ohm Resistor</li>
<li>1/8‚Äù Heat Shrink</li>
<li>2x 20mm M2.5 Pan Head Screws</li>
<li>2x M2.5 Hex Nuts</li>
<li>4x Nylon Spacers</li>
<li>Electrical Tape</li>
<li>Screw Driver</li>
<li>Heat Gun</li>
<li>Wire Cutters/Strippers</li>
</ul>
<ol>
<li>
<p>Slip a nylon spacer onto each of the two 20mm M2.5 Pan Head Screws, and then insert the screws through the mounting slots of the push button.</p>
</li>
<li>
<p>Align the mounting slots of the push button with the slots on the front bumper. (Fig. 8.1)</p>
<figure>
    <img src="/hardware/build_instructions/08_01_position_button.png"
         alt="Fig. 8.1" width="800"/> <figcaption>
            <p>Fig. 8.1</p>
        </figcaption>
</figure>

</li>
<li>
<p>Slip another nylon spacer onto each of the screw shafts so that they are pressed up against the back surface of the front bumper.</p>
</li>
<li>
<p>Secure the push button onto the front bumper by installing nuts onto the screw shafts. (Fig. 8.2)</p>
<figure>
    <img src="/hardware/build_instructions/08_02_mount_button.png"
         alt="Fig. 8.2" width="800"/> <figcaption>
            <p>Fig. 8.2</p>
        </figcaption>
</figure>

</li>
<li>
<p>Slip the push button's wires underneath the chassis&rsquo; lower suspension, and then up through one of the holes in the front foundation. (Fig. 8.3)</p>
<figure>
    <img src="/hardware/build_instructions/08_03_position_button_wires.png"
         alt="Fig. 8.3" width="800"/> <figcaption>
            <p>Fig. 8.3</p>
        </figcaption>
</figure>

</li>
<li>
<p>Use the wire cutters to remove one of the female housings three of the jumper cables. Strip approximately one centimeter of insulation off of each of the cut ends. We will assign a letter to each jumper cable, so we have jumper cable A, jumper cable B, and jumper cable C. We will refer to the remaining, uncut jumper cable as jumper cable D.</p>
</li>
<li>
<p>Trim both of the resistor's legs to be approximately 1cm long.</p>
</li>
<li>
<p>Take jumper cables A and B and tightly twist their exposed copper around one of the legs of the resistor. (Fig. 8.4)</p>
<figure>
    <img src="/hardware/build_instructions/08_04_wrap_first_leg.png"
         alt="Fig. 8.4" width="800"/> <figcaption>
            <p>Fig. 8.4</p>
        </figcaption>
</figure>

</li>
<li>
<p>Cut an approximately 5cm piece of 1/8&rdquo; heat shrink and slip it onto jumper cable C.</p>
</li>
<li>
<p>Tightly twist the exposed copper of jumper cable C around the unconnected leg of the resistor. (Fig. 8.5)</p>
<figure>
    <img src="/hardware/build_instructions/08_05_wrap_second_leg.png"
         alt="Fig. 8.5" width="800"/> <figcaption>
            <p>Fig. 8.5</p>
        </figcaption>
</figure>

</li>
<li>
<p>Slip the heat shrink over the resistor so that it covers all exposed metal. Use a heat gun to uniformaly shrink the heat shrink. (Fig. 8.6)</p>
<figure>
    <img src="/hardware/build_instructions/08_06_heat_shrink.png"
         alt="Fig. 8.6" width="800"/> <figcaption>
            <p>Fig. 8.6</p>
        </figcaption>
</figure>

</li>
<li>
<p>Connect jumper cable A to the push button's white wire, and jumper cable D to the push button's black wire. Wrap electrical tape around the connection. In a later section, we will finish connecting the push button to the Jetson Nano.</p>
</li>
</ol>
<hr>
<h2 id="ydlidar-installation">YDLIDAR Installation</h2>
<p>In this section, we will mount the YDLIDAR to the top of the racecar's back cover.</p>
<iframe width="800" height="450" style="margin-bottom:25px" src="https://www.youtube.com/embed/KssD9UeRxkA?list=PLU9BrzGX4PH2DHZzxOg2gEkLMXhpkS7fV" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p><strong>Required Materials and Tools</strong></p>
<ul>
<li>3D Printed Parts
<ul>
<li>Back Cover Top</li>
</ul>
</li>
<li>YDLIDAR</li>
<li>USB Micro Splitter</li>
<li>4x M2.5 Pan Head Screws</li>
<li>8x M2.5 Hex Nuts</li>
<li>4x Nylon Spacers</li>
<li>Hex Keys</li>
<li>Philips Screw Driver</li>
</ul>
<p><strong>Steps</strong></p>
<ol>
<li>
<p>Orient the 3D printed back cover top (BCT) so that the side with exactly eight round holes faces upwards.</p>
</li>
<li>
<p>A separate printed circuit board (PCB) comes with the YDLIDAR. Insert four M2.5 pan head screws through its mounting holes. Then slip a nylon spacer onto each of the screw shafts. Then slip a M2.5 hex nut onto each shaft. The nut should loosely hold the nylon spacer against the bottom surface of the PCB.</p>
</li>
<li>
<p>Align the PCB's mounting screws with the set of four holes on the BCT that are closest together. Orient the board so that the USB ports are facing towards the rectangular hole. Secure the screws in place with four M2.5 nuts inserted through the bottom of the BCT. (Fig. 9.1, 9.2)</p>
<figure>
    <img src="/hardware/build_instructions/09_01_laser_board_hex_insert.png"
         alt="Fig. 9.1" width="800"/> <figcaption>
            <p>Fig. 9.1</p>
        </figcaption>
</figure>

<figure>
    <img src="/hardware/build_instructions/09_02_laser_board_mount.png"
         alt="Fig. 9.2" width="800"/> <figcaption>
            <p>Fig. 9.2</p>
        </figcaption>
</figure>

</li>
<li>
<p>Insert the legs of the YDLIDAR into the holes on top of the BCT. Secure them in place by inserting the four screws into the corresponding holes of the bottom of the BCT. Use the fours screws that came with the YDLIDAR.</p>
</li>
<li>
<p>Connect the YDLIDAR to the PCB with the provided set of wires. Also, plug the USB micro splitter into the PCB. Note the red plastic around one of the USB micro splits. This corresponds to power, which should be plugged into the USB connector labeled <strong>PWR</strong> on the PCB. Put the other USB micro split into the other USB connector of the PCB. Guide the USB Type A end through the rectangular hole of the BST.</p>
</li>
<li>
<p>The YDLIDAR is now successfully mounted, as shown in Fig. 9.3.</p>
<figure>
    <img src="/hardware/build_instructions/09_03_connect_laser.png"
         alt="Fig. 9.3" width="800"/> <figcaption>
            <p>Fig. 9.3</p>
        </figcaption>
</figure>

</li>
</ol>
<hr>
<h2 id="jetson-nano-wi-fi-card-installation">Jetson Nano Wi-Fi Card Installation</h2>
<p>In this section, we will install a Wi-Fi card and antennas into the Jetson Nano.</p>
<iframe width="800" height="450" style="margin-bottom:25px" src="https://www.youtube.com/embed/faPB9ZhFFGg?list=PLU9BrzGX4PH2DHZzxOg2gEkLMXhpkS7fV" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p><strong>Required Materials and Tools</strong></p>
<ul>
<li>Jetson Nano</li>
<li>Wi-Fi Card</li>
<li>2x Wi-Fi Antenna</li>
<li>Philips Screw Driver</li>
</ul>
<p><strong>Steps</strong></p>
<ol>
<li>
<p>Connect the Wi-Fi antennae to the Wi-Fi card. To do this, first place the card on a flat surface. To connect an antenna, align the neck of its connector to be perpendicular to the back edge of the card. Tilt the antenna connector so that only the back part is making contact with the connector on the card as shown in Fig 10.1. Place your thumb on top, and then apply firm pressure as you roll your thumb forward along the antenna connector. It should snap into place. It is a tight fit and can be difficult to make the connection, but do not force it as the connectors can break.</p>
<figure>
    <img src="/hardware/build_instructions/10_01_attach_antennas.png"
         alt="Fig. 10.1" width="800"/> <figcaption>
            <p>Fig. 10.1</p>
        </figcaption>
</figure>

</li>
<li>
<p>Take out the two screws that secure the Jetson module to the carrier board. (Fig. 10.2)</p>
<figure>
    <img src="/hardware/build_instructions/10_02_remove_nano_mount.png"
         alt="Fig. 10.2" width="800"/> <figcaption>
            <p>Fig. 10.2</p>
        </figcaption>
</figure>

</li>
<li>
<p>Release the side latches that are on both sides of the module. These latches hold the module in place, and once released the module will pop up. Gently pull on the Jetson module to remove it. (Fig. 10.3)</p>
<figure>
    <img src="/hardware/build_instructions/10_03_remove_side_latches.png"
         alt="Fig. 10.3" width="800"/> <figcaption>
            <p>Fig. 10.3</p>
        </figcaption>
</figure>

</li>
<li>
<p>Remove the #2 screw located in the center of the board.</p>
</li>
<li>
<p>Position the Wi-Fi card at a slight angle and insert it into the M.2 connector.</p>
</li>
<li>
<p>Re-insert the #2 screw to secure the Wi-Fi card in place.</p>
</li>
<li>
<p>Route the antennae wires such that they lay between the two Jetson module screw mounts. (Fig. 10.4)</p>
<figure>
    <img src="/hardware/build_instructions/10_04_guide_antenna_wires.png"
         alt="Fig. 10.4" width="800"/> <figcaption>
            <p>Fig. 10.4</p>
        </figcaption>
</figure>

</li>
<li>
<p>Position the Jetson Nano module at a slight angle before re-inserting it into the carrier board socket. Push it back down so that it is retained by the latches.</p>
</li>
<li>
<p>Re-insert the screws to secure the Jetson module.</p>
</li>
<li>
<p>The Wi-Fi card is now successfully installed into the Jetson Nano.</p>
</li>
</ol>
<hr>
<h2 id="sd-card-setup">SD Card Setup</h2>
<p>In this section, we will write a system image with pre-installed MuSHR software to an SD card, and then insert that SD card into the Jetson Nano.</p>
<p><strong>Required Materials and Tools</strong></p>
<ul>
<li>Jetson Nano</li>
<li>SD Card - (64GB or larger)</li>
<li>Computer with
<ul>
<li>Internet Connection</li>
<li>Ability to Read and Write SD Cards (<em><a href="https://www.amazon.com/Reader-Laptop-Windows-Chrome-RS-MMC/dp/B07MK99R14">SD Card USB Adapter</a></em>)</li>
</ul>
</li>
</ul>
<p><strong>Steps</strong></p>
<ol>
<li>
<p>Download and decompress the MuSHR system image from <em><a href="https://drive.google.com/file/d/17Xn63ZWA_e3DVxt_ajhzu-uKW0hUG4iX/view?usp=sharing">here</a></em>.</p>
</li>
<li>
<p>Flash the MuSHR image onto the SD card following the instructions <em><a href="https://developer.nvidia.com/embedded/learn/get-started-jetson-nano-devkit#write">here</a></em>.</p>
</li>
<li>
<p>Insert the SD card into the Jetson Nano's SD card slot.</p>
</li>
</ol>
<hr>
<h2 id="back-cover-installation">Back Cover Installation</h2>
<p>In this section, we will assemble the back cover, mount the Jetson Nano, and attach the back cover to the foundation.</p>
<iframe width="800" height="450" src="https://www.youtube.com/embed/7VCPL9Z3qCs?list=PLU9BrzGX4PH2DHZzxOg2gEkLMXhpkS7fV" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p><strong>Required Materials and Tools</strong></p>
<ul>
<li>Jetson Nano</li>
<li>3D Printed Parts:
<ul>
<li>Back Cover Top (w/ LIDAR mounted)</li>
<li>Back Cover Left Side</li>
<li>Back Cover Right Side</li>
</ul>
</li>
<li>Racecar Chasis</li>
<li>12x M2.5 Hex Nuts</li>
<li>8x M2.5 Pan Head Screws</li>
<li>4x M2.5 Flat Head Screws</li>
<li>12x Spacers</li>
<li>Pin Jumper</li>
<li>Hex Keys</li>
<li>Tweezers</li>
<li>Pliers</li>
<li>Philips Screwdriver</li>
<li>Electrical Tape</li>
</ul>
<p><strong>Steps</strong></p>
<ol>
<li>
<p>Before continuing, <strong>the LIDAR should already be mounted to the 3D printed back cover top (BCT).</strong></p>
</li>
<li>
<p>Insert a M2.5 pan head screw into each of the Jetson Nano's mounting holes. Then place two spacers on each screw shaft, followed by a M2.5 hex nut. Screw the nut onto the shaft such that it loosely holds the upper spacer against the bottom surface of the Jetson Nano.</p>
</li>
<li>
<p>Insert a M2.5 hex nut into each of the four hex inlets on the sides of the BCT. (Fig. 12.1)</p>
<figure>
    <img src="/hardware/build_instructions/12_01_insert_side_wall_hex_nuts.png"
         alt="Fig. 12.1" width="800"/> <figcaption>
            <p>Fig. 12.1</p>
        </figcaption>
</figure>

</li>
<li>
<p>Align the 3D printed back cover right side with the two holes on the right side of the BCT that are above the inlets from the previous step. Before inserting a M2.5 pan head screw into each of these holes, slip one nylon spacer onto the screw shaft.</p>
</li>
<li>
<p>Repeat the previous step with the 3D printed back cover left side in order to attach it to the BCT.</p>
</li>
<li>
<p>Observe the bottom surface of the BCT (i.e. the side opposite to the one the LIDAR is mounted on). Note the four mostly hexagonal holes near where the BCT connects to the back cover left side and back cover right side. Insert a M2.5 hex nut into each of these holes, and align their thread hole with the round portion of the hole. (Fig. 12.2)</p>
<figure>
    <img src="/hardware/build_instructions/12_02_insert_jetson_mount_hex_nuts.png"
         alt="Fig. 12.2" width="800"/> <figcaption>
            <p>Fig. 12.2</p>
        </figcaption>
</figure>

</li>
<li>
<p>Tilt the back cover so that the hex nuts from the previous step stay in place. Simultaneously align the Jetson Nano with these hex nuts, and secure its mounting screws to the BCT. (Fig. 12.3)</p>
<figure>
    <img src="/hardware/build_instructions/12_03_mount_jetson_nano.png"
         alt="Fig. 12.3" width="800"/> <figcaption>
            <p>Fig. 12.3</p>
        </figcaption>
</figure>

</li>
<li>
<p>Now that the Jetson Nano has been mounted, put a pin jumper on the J48 header, as shown in Fig 12.4, so that the Jetson Nano draws power from the DC barrel jack.</p>
<figure>
    <img src="/hardware/build_instructions/12_04_place_nano_jumper.png"
         alt="Fig. 12.4" width="800"/> <figcaption>
            <p>Fig. 12.4</p>
        </figcaption>
</figure>

</li>
<li>
<p>Next, we will connect the push button to the Jetson Nano's breakout pins. Note that in the following description, all pins refer to pins found on the Jetson Nano's J41 header, and that we will refer to specific jumper cables as defined in the push button installation section. Connect jumper cable B to Pin 33, which serves as an input GPIO pin. Connect jumper cable C to Pin 1, which connects the pull-up resistor to 3.3V. Finally, connect jumper cable D to Pin 39, which serves as a ground connection when the button is pressed.</p>
</li>
<li>
<p>Optionally, apply hot glue to ensure that jumper cables B,C, and D do not become disconnected from their respective pins on the J41 header.</p>
</li>
<li>
<p>Expose the adhesive on the back of each of the antennas, and attach them to the side walls of the back cover.</p>
</li>
<li>
<p>Use electrical tape to re-enforce the adhesion of the antennae to the side walls.</p>
</li>
<li>
<p>If necessary, use zip ties to bundles the antennae wires, as well as perform general cable management of the back cover. (Fig. 12.5)</p>
<figure>
    <img src="/hardware/build_instructions/12_05_antenna_wires.JPG"
         alt="Fig. 12.5" width="800"/> <figcaption>
            <p>Fig. 12.5</p>
        </figcaption>
</figure>

</li>
<li>
<p>Use four M2.5 flat head screws to mount the back cover to the foundation. (Fig. 12.6)</p>
<figure>
    <img src="/hardware/build_instructions/12_06_mount_back_cover.png"
         alt="Fig. 12.6" width="800"/> <figcaption>
            <p>Fig. 12.6</p>
        </figcaption>
</figure>

</li>
</ol>
<hr>
<h2 id="front-cover-installation">Front Cover Installation</h2>
<p>In this section, we will mount the D435i Realsense camera to the front cover of the car, and attach the front cover to the foundation.</p>
<iframe width="800" height="450" style="margin-bottom:25px" src="https://www.youtube.com/embed/WpmkEg2wEpA?list=PLU9BrzGX4PH2DHZzxOg2gEkLMXhpkS7fV" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p><strong>Required Materials and Tools</strong></p>
<ul>
<li>Intel D435i Camera and/or Intel T265 Camera</li>
<li>USB 3.0 1ft Cable</li>
<li>3D Printed Parts:
<ul>
<li>Racecar Front Cover Whole</li>
<li>Racecar T265 Mounting Plate (If using 2 Cameras)</li>
</ul>
</li>
<li>Racecar Chasis</li>
<li>5x Flat Head Screws</li>
<li>2x 6mm M3 Pan Head Screws (If using 1 Camera)</li>
<li>4x 14mm M3 Pan Head Screws (If using 2 Cameras)</li>
<li>8x Nylon Spacers (If using 2 Cameras)</li>
<li>Pliers</li>
<li>Hex Keys</li>
<li>Philips Screwdriver</li>
</ul>
<p><strong>Steps</strong></p>
<ol>
<li>
<p>Plug the 1ft USB 3.0 cable into the D435i camera. Note that we are not using the USB cable that comes with the camera because it is excessively long.</p>
</li>
<li>
<p><strong>Single Camera</strong> Guide the USB cable from the outside of the front cover to the inside through the gap near the mounting holes. (Fig. 13.1)</p>
<figure>
    <img src="/hardware/build_instructions/13_01_guide_d435_usb.png"
         alt="Fig. 13.1" width="800"/> <figcaption>
            <p>Fig. 13.1</p>
        </figcaption>
</figure>

</li>
<li>
<p><strong>Single Camera</strong> Use two 6mm M3 screws to mount the D435i camera to the front cover.(Fig. 13.2)</p>
<figure>
    <img src="/hardware/build_instructions/13_02_mount_d435.png"
         alt="Fig. 13.2" width="800"/> <figcaption>
            <p>Fig. 13.2</p>
        </figcaption>
</figure>

</li>
<li>
<p><strong>Dual Camera</strong> Use two 14mm M3 screws to attach the mounting plate and D435i camera to the front cover. (Fig. 13.3)</p>
<figure>
    <img src="/hardware/build_instructions/13_03_mount_d435_double.JPG"
         alt="Fig. 13.3" width="800"/> <figcaption>
            <p>Fig. 13.3</p>
        </figcaption>
</figure>

</li>
<li>
<p><strong>Dual Camera</strong> Take two 14mm M3 screws and slip 4 nylon spacers onto each of them. Use these screws to attach the T265 camera to the mounting plate. (Fig. 13.4).</p>
<figure>
    <img src="/hardware/build_instructions/13_04_mount_t265_double.JPG"
         alt="Fig. 13.4" width="800"/> <figcaption>
            <p>Fig. 13.4</p>
        </figcaption>
</figure>

</li>
<li>
<p><strong>Dual Camera</strong> Guide the USB cables from the inside of the front cover to the outside, and attach them to the cameras. (Fig. 13.5).</p>
<figure>
    <img src="/hardware/build_instructions/13_05_guide_usb_double.JPG"
         alt="Fig. 13.5" width="800"/> <figcaption>
            <p>Fig. 13.5</p>
        </figcaption>
</figure>

</li>
<li>
<p>Use five M2.5 flat head screws to mount the front cover to the race car. (Fig. 13.6)</p>
<figure>
    <img src="/hardware/build_instructions/13_06_mount_front_cover.png"
         alt="Fig. 13.6" width="800"/> <figcaption>
            <p>Fig. 13.6</p>
        </figcaption>
</figure>

</li>
</ol>
<hr>
<h2 id="final-assembly">Final Assembly</h2>
<p>In this section, we will finish assembling the racecar.</p>
<p><strong>Required Materials and Tools</strong></p>
<ul>
<li>Wireless Controller</li>
<li>Racecar Chassis</li>
<li>3D Printed Parts:
<ul>
<li>2x Racecar Cover Image</li>
<li>Racecar Cover Number</li>
</ul>
</li>
<li>Zip Ties</li>
<li>Super Glue</li>
<li>Electrical Tape</li>
</ul>
<p><strong>Steps</strong></p>
<ol>
<li>
<p>Re-attach the back bumper to the chassis if not already done.</p>
</li>
<li>
<p>Place tape around the connections between the VESC and motor. (Fig. 14.1)</p>
<figure>
    <img src="/hardware/build_instructions/14_01_motor_tape.JPG"
         alt="Fig. 14.1" width="800"/> <figcaption>
            <p>Fig. 14.1</p>
        </figcaption>
</figure>

</li>
<li>
<p>Attach velcro to the back right side of the foundation. (Fig. 14.3)</p>
<figure>
    <img src="/hardware/build_instructions/14_02_foundation_velcro.JPG"
         alt="Fig. 14.2" width="800"/> <figcaption>
            <p>Fig. 14.2</p>
        </figcaption>
</figure>

</li>
<li>
<p>Place velcro on the corresponding area of the battery. (Fig. 14.3)</p>
<figure>
    <img src="/hardware/build_instructions/14_03_battery_velcro.JPG"
         alt="Fig. 14.3" width="800"/> <figcaption>
            <p>Fig. 14.3</p>
        </figcaption>
</figure>

</li>
<li>
<p>If using the T265 Camera, use zip ties to organize the USB cable. Use zip ties as necessary to manage cables. (Fig. 14.4)</p>
<figure>
    <img src="/hardware/build_instructions/14_04_zip_ties.JPG"
         alt="Fig. 14.4" width="800"/> <figcaption>
            <p>Fig. 14.4</p>
        </figcaption>
</figure>

</li>
<li>
<p>Route the VESC's USB cable up through the hole in the foundation near the left battery compartment. Plug it into one of the Jetson Nano's USB ports.</p>
</li>
<li>
<p>Plug the YDLIDAR's USB cable into one of the Jetson Nano's USB ports.</p>
</li>
<li>
<p>Plug the USB cable(s) of any installed Realsense cameras into the Jetson Nano's USB ports.</p>
</li>
<li>
<p>Make sure that the 5000 mAH battery is not plugged into the buck converter. Then plug the barrel connector into the Jetson Nano. (Fig. 14.5)</p>
<figure>
    <img src="/hardware/build_instructions/14_05_usb_plugged.JPG"
         alt="Fig. 14.5" width="800"/> <figcaption>
            <p>Fig. 14.5</p>
        </figcaption>
</figure>

</li>
<li>
<p>Apply super glue to one of the insets on the outside of the back cover. Insert one of the 3D printed cover images into the inset.</p>
</li>
<li>
<p>Repeat the previous step for the cover image on the other side of the back cover, and for the cover number in the center of the front cover.</p>
</li>
<li>
<p>Congratulations, you have finished building the MuSHR Racecar! (Fig 14.6)</p>
<figure>
    <img src="/hardware/build_instructions/14_06_car_complete.jpg"
         alt="Fig. 14.6" width="800"/> <figcaption>
            <p>Fig. 14.6</p>
        </figcaption>
</figure>

</li>
</ol>
<hr>
<h2 id="software-setup">Software Setup</h2>
<p>In this section, we will configure the VESC firmware, pair the bluetooth controller, and setup other remaining software.</p>
<p><strong>Required Materials and Tools</strong></p>
<ul>
<li>Computer Monitor</li>
<li>HDMI Cable</li>
<li>USB Keyboard</li>
<li>USB Mouse</li>
<li>3000 mAH Battery</li>
<li>5V Power Adapter or 5000 mAH battery</li>
</ul>
<p><strong>Steps</strong></p>
<ol>
<li>
<p>Attach the Jetson Nano to the computer monitor with the HDMI cable. Plug in the keyboard and mouse into its USB ports. Unplug the USB cables of the cameras if there are not enough open USB ports. Place a box underneath the chassis body such that the wheels are not touching the table/ground/surface.</p>
</li>
<li>
<p>Power on the Jetson Nano. You may use either a 5V power adapter directly into the Jetson Nano's barrel connector, or use the 5000 mAH battery.</p>
</li>
<li>
<p>Connect to the internet by setting up a Wi-Fi connection to an existing network. First, click on the Wi-Fi symbol in the upper right of the Ubuntu GUI and choose <strong>Edit Connections</strong>. Click the plus sign to create a new connection. On the <strong>Choose a Connection Type</strong> dialog, choose <strong>Wi-Fi</strong> from the drop down menu, and then click <strong>Create&hellip;</strong>. Enter a name into the <strong>Connection Name</strong> field. Enter the name of the network to connect to in the <strong>SSID</strong> field. Under the <strong>Mode</strong> field, choose <strong>Client</strong>. Under the <strong>BSSID</strong> field, choose the last option (there may only be one option). Then click <strong>Save</strong>. An example connection is shown below. (Fig. 15.1)</p>
<figure>
    <img src="/hardware/build_instructions/15_01_new_connection.png"
         alt="Fig. 15.1" width="800"/> <figcaption>
            <p>Fig. 15.1</p>
        </figcaption>
</figure>

</li>
<li>
<p>Back in the <strong>Edit Connections</strong> dialog, double click on the <strong>Robot AP</strong> connection to begin editing the connection. Click on the <strong>General</strong> tab. Uncheck the <strong>Automatically connect to this network when it is available</strong> option. Click <strong>Save</strong>. (Fig. 15.2)</p>
<figure>
    <img src="/hardware/build_instructions/15_02_uncheck_robot_ap.png"
         alt="Fig. 15.2" width="800"/> <figcaption>
            <p>Fig. 15.2</p>
        </figcaption>
</figure>

</li>
<li>
<p>Again click on the Wi-Fi icon in the upper right corner. Click <strong>Enable Networking</strong>. This will disable networking. Re-enable networking by again clicking on <strong>Enable Networking</strong>. The robot should now be connected to the internet through an existing Wi-Fi network. (Fig. 15.3)</p>
<figure>
    <img src="/hardware/build_instructions/15_03_enable_networking.png"
         alt="Fig. 15.3" width="800"/> <figcaption>
            <p>Fig. 15.3</p>
        </figcaption>
</figure>

</li>
<li>
<p>Open a terminal and install gparted using the following command:</p>
<p><div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">    sudo apt-get install gparted
    </code></pre></div> <br/></p>
</li>
<li>
<p>Next, we will use gparted to expand the SD card partition. Open the gparted program, and right click on the <strong>/dev/mmcblk0p1</strong> partition. Choose <strong>Resize/Move</strong>. In the dialog that opens, drag the slider all the way to the right. Then click <strong>Resize</strong>. The dialog box will close. Click the green check mark, and click <strong>Apply</strong> in the resulting dialog. You should now have very little or no unallocated space. Close gparted. (Fig. 15.4)</p>
<figure>
    <img src="/hardware/build_instructions/15_04_gparted.png"
         alt="Fig. 15.4" width="800"/> <figcaption>
            <p>Fig. 15.4</p>
        </figcaption>
</figure>

</li>
<li>
<p>We will now upload firmware to the VESC. First, plug the 3000 mAH battery into the VESC. Note that you should charge the battery if not done already.</p>
</li>
<li>
<p>Open a terminal and use the following command to open the VESC programming GUI:</p>
<p><div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">    <span class="nb">cd</span> <span class="o">&amp;&amp;</span> ./bldc-tool/BLDC_Tool
    </code></pre></div> <br/></p>
</li>
<li>
<p>In the upper right corner of the GUI, there is a dropdown box, and two buttons - one with a circular arrow and one labeled <strong>Connect</strong>. Click on the circular arrow button until the dropdown box reads <strong>VESC - ttyACM0</strong>. Look in the lower right of the GUI, where it should say <strong>Not Connected</strong>. Click on the <strong>Connect</strong> button until the text in the lower right flashes green and then reads <strong>Connected</strong>. (Fig. 15.5)</p>
<figure>
    <img src="/hardware/build_instructions/15_05_connect_vesc.png"
         alt="Fig. 15.5" width="800"/> <figcaption>
            <p>Fig. 15.5</p>
        </figcaption>
</figure>

</li>
<li>
<p>Next, click on the <strong>Firmware</strong> tab. Under the <strong>Upload New Firmware</strong> section, click <strong>Upload</strong>. Read the warning and click <strong>OK</strong>. Choose the file at the path <strong>bldc-tool/firmwares/hw_410_411_412/VESC_servoout.bin</strong>. <strong>It is VERY important to choose the correct file, as the previous warning described.</strong> After verifying that you have chosen the correct file, click <strong>Upload</strong> to upload the firmware. (Fig. 15.6)</p>
<figure>
    <img src="/hardware/build_instructions/15_06_upload_vesc_firmware.png"
         alt="Fig. 15.6" width="800"/> <figcaption>
            <p>Fig. 15.6</p>
        </figcaption>
</figure>

</li>
<li>
<p>After uploading the firmware, the VESC will automatically reboot. If the <strong>BLDC Tool</strong> GUI closes, re-open as described in step 9. Click on the <strong>Motor Configuration</strong> tab (in the case that the GUI did not close), and re-connect to the VESC as described in step 10.</p>
</li>
<li>
<p>In the lower left corner of the GUI, click the <strong>Read configuration</strong> button. Many of the fields should now be populated with non-zero values. Next, click the <strong>Load XML</strong> button. Choose the file at the path <strong>catkin_ws/src/mushr/mushr_base/vesc/vesc_configs/mushr_vesc_sensorless_config.xml</strong>. Then click <strong>Write configuration</strong> (which is to the right of the <strong>Read configuration</strong> button). Next, <strong>make sure that the robot's wheels are suspended in air, because we are about to make the wheels move</strong>. Press (and hold) any of the arrow keys. This should cause the wheels to move. Close the <strong>BLDC Tool</strong> GUI. (Fig. 15.7)</p>
<figure>
    <img src="/hardware/build_instructions/15_07_load_xml.png"
         alt="Fig. 15.7" width="800"/> <figcaption>
            <p>Fig. 15.7</p>
        </figcaption>
</figure>

</li>
<li>
<p>Note the column of icons on the left-side of the Ubuntu GUI. Click on the uppermost one, and type <strong>Bluetooth</strong>. Use the search result to open the <strong>Bluetooth</strong> dialog. Turn on the PS4 controller by pressing on the <strong>Playstation</strong> button. <strong>Note that the controller must first be charged using a USB-mini cable.</strong> The LED on the front of the controller should flash. Put the controller into pairing mode by simultaneously holding down the <strong>Playstation</strong> button and the <strong>Share</strong> button. The LED on the front of the controller should continuously emit quick flashes. Next, in the <strong>Bluetooth dialog</strong>, click on the plus icon in the lower left corner. In the dialog that pops up, choose <strong>Input devices(mice,keyboards,etc.)</strong> in the <strong>Device type</strong> drop down. There should now be a single entry labelled <strong>Wireless Controller</strong>. Click it, and then click <strong>Next</strong> in the lower right corner. After the dialog reports <strong>Successfully set up new device &lsquo;Wireless Controller&rsquo;</strong>, close the <strong>Bluetooth</strong> dialog. (Fig. 15.8)</p>
<figure>
    <img src="/hardware/build_instructions/15_08_pair_controller.png"
         alt="Fig. 15.8" width="800"/> <figcaption>
            <p>Fig. 15.8</p>
        </figcaption>
</figure>

</li>
<li>
<p>Open the file <strong>/home/robot/catkin_ws/src/mushr/mushr_base/mushr_base/config/joy_teleop.yaml</strong> for editing. Note the hierarchal structure of this file. Under the field <strong>teleop-&gt;human_control-&gt;axis_mappings</strong>, there are two sections, each consisting of an <strong>axis</strong>, <strong>target</strong>, <strong>scale</strong>, and <strong>offset</strong> field. We will edit the section whose <strong>target</strong> field has a value of <strong>drive.steering_angle</strong>. The value of the <strong>axis</strong> field should be changed from <strong>3</strong> to <strong>2</strong>. Note that this may have already been done for you as a result of future updates. Save and close the file. (Fig. 15.9)</p>
<figure>
    <img src="/hardware/build_instructions/15_09_edit_joy_config.png"
         alt="Fig. 15.9" width="800"/> <figcaption>
            <p>Fig. 15.9</p>
        </figcaption>
</figure>

</li>
<li>
<p>Open the file <strong>/home/robot/catkin_ws/src/mushr/mushr_base/vesc/vesc_main/config/racecar-uw-nano/vesc.yaml</strong> for editing. Change the <strong>speed_to_erpm_gain</strong> field to have a value of <strong>-3500</strong>, and the <strong>steering_angle_to_servo_gain</strong> field to have a value of <strong>0.95</strong>. These parameters affect the computation of the robot's odometry. While these values serve as a starting point, they will need to be tuned for your own car. More information about these parameters and how to tune them will be given in a soon-to-be-released <a href="/tutorials">tutorial</a>. Save and close the file. (Fig. 15.10)</p>
<figure>
    <img src="/hardware/build_instructions/15_10_vesc_params.png"
         alt="Fig. 15.10" width="800"/> <figcaption>
            <p>Fig. 15.10</p>
        </figcaption>
</figure>

</li>
<li>
<p>Open the file <strong>/etc/rc.local</strong> for editing. <strong>Note that you will need to use sudo to edit it</strong>. On the line before the line that reads <strong>nvpmodel -m 0</strong>, add the following:</p>
<p><div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">    rs-enumerate-devices <span class="p">&amp;</span>&gt; /dev/null
    </code></pre></div> <br/>
This causes the Jetson Nano to correctly recognize all of the camera devices on startup. Note that this line already may have been added for you as a result of future updates. Save and close the file. (Fig. 15.11)</p>
<figure>
    <img src="/hardware/build_instructions/15_11_enumerate_devices.png"
         alt="Fig. 15.11" width="800"/> <figcaption>
            <p>Fig. 15.11</p>
        </figcaption>
</figure>

</li>
<li>
<p>Re-open the <strong>Network Connections</strong> by clicking on the Wi-Fi symbol in the upper right of the Ubuntu GUI and choosing <strong>Edit Connections</strong>. Highlight the connection that you created in step 3, and click the minus icon to delete it. Afterwards, <strong>Robot AP</strong> should be the only remaining connection under the <strong>Wi-Fi</strong> section. Double-click on the <strong>Robot AP</strong> connection to edit it. Click on the <strong>General</strong> tab, and re-enable the <strong>Automatically connect to this network when it available</strong> option. Click <strong>Save</strong>. Disable and re-enable networking (as described in step 5) so that the robot uses the <strong>Robot AP</strong> connection. Verify that this connection is being used by entering the <strong>ifconfig</strong> command into the terminal and checking that there is an entry containing the IP <strong>10.42.0.1</strong>. (Fig. 15.12)</p>
<figure>
    <img src="/hardware/build_instructions/15_12_robot_ap_reconnect.png"
         alt="Fig. 15.12" width="800"/> <figcaption>
            <p>Fig. 15.12</p>
        </figcaption>
</figure>

</li>
<li>
<p>Note that this step will cause the LIDAR to spin. Enter the following command into the terminal:</p>
<p><div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">    roslaunch ydlidar lidar.launch
    </code></pre></div> <br/></p>
<p>If you get the error <strong>YDLIDAR Cannot bind to the specified serial port /dev/ydlidar</strong>, this means that the <strong>USB micro end</strong> of the LIDAR cable was plugged in backwards. Use <strong>CTRL-C</strong> to shutdown the node. Then swap the two USB micro ends of the LIDAR cable so that they are plugged into the opposite receptacles, and then try the above command again. When they are plugged in correctly, the LIDAR will begin spinning. Use <strong>CTRL-C</strong> to shutdown the node.</p>
</li>
<li>
<p>Shutdown the robot with the following command:</p>
<p><div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">    sudo shutdown -P now
    </code></pre></div> <br/></p>
<p>Once the robot has shutdown, unplug the monitor, keyboard and mouse. Re-insert any sensor USB cables that were removed at the beginning of this section.</p>
</li>
<li>
<p>You have now completely configured the MuSHR robot's software!</p>
</li>
</ol>
<hr>
<h2 id="teleoperate-the-robot">Teleoperate the Robot</h2>
<p>In this section, we will go through the minimum process required to teleoperate the MuSHR Racecar.</p>
<p><strong>Steps</strong></p>
<ol>
<li>
<p>Ensure that both of the robot's batteries have been charged.</p>
</li>
<li>
<p>Plug the VESC into the 3000 mAH NiMH battery in the chassis.</p>
</li>
<li>
<p>Plug the buck converter into the 5000 mAH NiMH battery in the foundation.</p>
</li>
<li>
<p>Wait 30 seconds for the Jetson Nano to boot up. Then connect to the robot's network: <br/>
<strong>SSID: RobotAP</strong><br/>
<strong>Password: prl_robot</strong></p>
</li>
<li>
<p>Open a terminal and log into the robot:
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ ssh -X robot@10.42.0.1</code></pre></div> <br/>
The password is <strong>prl_robot</strong>.</p>
</li>
<li>
<p>Execute the following command to launch the robot's motor and sensor drivers:
<div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">$ roslaunch mushr_base teleop.launch</code></pre></div> <br/></p>
</li>
<li>
<p>Once all of the robot's nodes have been brought up, you can drive the car with the wireless controller. The <strong>LB</strong> button acts a deadman's switch that you must hold down in order to make the car move. The left joystick controls the robot's throttle, and the right joystick controls its steering.</p>
</li>
</ol>

        </div>
      </div>
    </div>
  </div>
</div>
<div class="strip strip-primary-gradient-top-bottom">
  <div class="container pt-3 pb-3 pt-md-6 pb-md-3 px-2">
    <div class="row justify-content-left citation-row">
        <h1 id="citation">Citation</h1>
        <p>If you plan to use any part of the the MuSHR platform, including tutorials, codebase, or hardware instructions for a project or paper, please cite 
        <em><a href="https://arxiv.org/abs/1908.08031">MuSHR: A Low-Cost,
        Open-Source Robotic Racecar for Education and Research
        </a></em>:</p></font>
        <div class="highlight"><pre class="chroma">@article{srinivasa2019mushr,
 title={{M}u{SHR}: {A} Low-Cost, Open-Source Robotic Racecar for Education and Research},
 author={Srinivasa, Siddhartha S. and Lancaster, Patrick and Michalove, Johan and Schmittle, Matt and Summers, Colin and Rockett, Matthew and Smith, Joshua R. and Chouhury, Sanjiban and Mavrogiannis, Christoforos and Sadeghi, Fereshteh},
 journal={CoRR},
 volume={abs/1908.08031},
 year={2019}
}
</pre></div>
        <p><br></p>
    </div>
  </div>
</div>


  </div>

  <div class="footer">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="footer-inner">
          <h3 class="footer-title">MuSHR: The UW Open Racecar Project</h3>
          <ul>
            
            
            <li class="menu-item-home">
              <a href="/">
                Home
              </a>
            </li>
            
            <li class="menu-item-contact">
              <a href="/contact/">
                Contact
              </a>
            </li>
            
            <li class="menu-item-newsletter">
              <a href="https://tinyletter.com/mushr">
                Newsletter
              </a>
            </li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>
  <div class="sub-footer">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <div class="sub-footer-inner">
          <ul>
            <li><strong>Email: </strong><a href="mailto:mushr@cs.washington.edu">
                mushr@cs.washington.edu</a></li>
          </ul>
          <ul>
            <li class="prl"><a href="https://personalrobotics.cs.washington.edu/">Made with <font color="#FF1690">‚ô•</font> at the Personal Robotics Lab</a></li>
          </ul>
          <ul>
            <li class="prl">Website by <a href="http://johanam.com/"><font color="#36CDC4">Johan</font></a></li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

  

  




  <script type="text/javascript" src="/js/services.min.96db5a4d9a7ea2d1759fd6847940367b5207c4ef5686df932179e04aefccdf37.js"></script>
  


  
  <script type="text/javascript" src="/js/scripts.min.bf1e1f7ae8e03db5f012356e825843facdff51c0a559cb0d27fe2bbe1db405c2.js"></script>
  

  




<script async src="https://www.googletagmanager.com/gtag/js?id=UA-146151202-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];

  function gtag() {
    dataLayer.push(arguments);
  }
  gtag('js', new Date());
  gtag('config', 'UA-146151202-1');
</script>




</body>

</html>