<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><title>Teleoperating over Radio - MuSHR: The UW Open Racecar Project</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon href=https://mushr.io/favicon.png><link rel=stylesheet href=/css/style.min.d6c2c7df4a2b74e47c295ee499fec19eb99dfe63f90766a829090f557e381bdc.css></head><body class='page page-tutorials-single'><div id=main-menu-mobile class=main-menu-mobile><ul><li class=menu-item-quickstart><a href=/tutorials/quickstart/><span>Quickstart</span></a></li><li class=menu-item-about><a href=/about/><span>About</span></a></li><li class=menu-item-docs><a href=https://github.com/prl-mushr/mushr#component-documentation><span>Docs</span></a></li><li class=menu-item-hardware><a href=/hardware/><span>Hardware</span></a></li><li class="menu-item-tutorials active"><a href=/tutorials/><span>Tutorials</span></a></li><li class=menu-item-press><a href=/press/><span>Press</span></a></li><li class=menu-item-team><a href=https://personalrobotics.cs.washington.edu/people/><span>Team</span></a></li><li class=menu-item-forum><a href=https://github.com/prl-mushr/mushr/discussions><span>Community Forum</span></a></li><li class=menu-item-contact><a href=/contact/><span>Contact</span></a></li></ul></div><div class=wrapper><div class=header><div class=container><div class=logo><a href=https://mushr.io/><img alt="Figurit Homepage" src=https://mushr.io/imgs/mushr-logo.svg></a></div><div class=logo-mobile><a href=https://mushr.io/><img alt="Figurit Homepage" src=https://mushr.io/imgs/mushr-logo.svg></a></div><div id=main-menu class=main-menu><ul><li class=menu-item-quickstart><a href=/tutorials/quickstart/><span>Quickstart</span></a></li><li class=menu-item-about><a href=/about/><span>About</span></a></li><li class=menu-item-docs><a href=https://github.com/prl-mushr/mushr#component-documentation><span>Docs</span></a></li><li class=menu-item-hardware><a href=/hardware/><span>Hardware</span></a></li><li class="menu-item-tutorials active"><a href=/tutorials/><span>Tutorials</span></a></li><li class=menu-item-press><a href=/press/><span>Press</span></a></li><li class=menu-item-team><a href=https://personalrobotics.cs.washington.edu/people/><span>Team</span></a></li><li class=menu-item-forum><a href=https://github.com/prl-mushr/mushr/discussions><span>Community Forum</span></a></li><li class=menu-item-contact><a href=/contact/><span>Contact</span></a></li></ul></div><button id=toggle-main-menu-mobile class="hamburger hamburger--slider" role=presentation aria-label="mobile menu trigger">
<span class=hamburger-box><span class=hamburger-inner></span></span></button></div></div><div class="container pb-6 pt-6 pt-md-10 pb-md-10"><div class="row justify-content-start"><div class="col-12 col-md-8"><div class="tutorial tutorial-single"><h1 class=title>Teleoperating over Radio</h1><div class=content><p>Use the Bitcraze CrazyRadio dongle to teleoperate the car over radio.</p><h4 class=properties>Beginner Tutorial | Expected duration is 45 minutes</h4><h2>By: Akkshaj Singh</h2><br><figure><img src=/tutorials/radio_fpv/crazyradio.jpg></figure><br><h3 id=introduction>Introduction</h3><p>This tutorial will help you integrate a radio-based system for teleoperation.</p><h3 id=goal>Goal</h3><p>To allow you to drive the car over radio.</p><h3 id=requirements>Requirements</h3><ul><li>Complete the <a href=/hardware/build_instructions>hardware</a> setup with your car</li><li>Complete the <a href=/tutorials/quickstart>quickstart</a> tutorial. (Required for rviz)</li><li>Complete the <a href=/tutorials/first_steps/>first_steps</a> tutorial.</li><li>2 <a href=https://www.bitcraze.io/products/crazyradio-pa/>CrazyRadio USB transceivers</a>.</li><li><a href=https://www.getfpv.com/fpv/cameras.html>FPV Camera Hardware</a> (camera, transmitter, receiver)</li><li><a href=https://github.com/prl-mushr/mushr-radio-controller/blob/main/FPV%20Camera%20Mount.stl>FPV Camera 3D Printed Mount</a></li><li>A desktop/laptop computer that can ssh into the car.</li></ul><h2 id=setting-up-crazyradio>Setting up CrazyRadio</h2><p>Plug one CrazyRadio USB transceiver into the jetson on the racecar, and one into your computer. Download the code from <a href=https://github.com/prl-mushr/mushr-radio-controller>this GitHub repository</a> onto both the jetson and the computer. Connect the dualshock controller to your teleoperating laptop over Bluetooth or USB.</p><p>First, run <code>tx.py</code> on the transmitting computer.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl> $ sudo python tx.py </span></span></code></pre></div><p>Then, run <code>rx.py</code> on the Jetson. Verify that joystick input appears on your screen and is being sent to the car with the acknowledgements.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl> $ sudo python rx.py </span></span></code></pre></div><h2 id=teleoperation>Teleoperation</h2><p>Launch teleop as per normal on the jetson by SSH-ing into the car. (ensure the python scripts from the previous step are still running on both the PC & the racecar).</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ ssh &lt;user&gt;@&lt;car ip&gt; </span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ roslaunch racecar teleop.launch </span></span></code></pre></div><p>The controller should now be able to drive the car. This system should have a much higher range when compared to the traditional Bluetooth teleoperation system, and will continue to work outside WiFi or Bluetooth range, provided that line-of-sight is maintained. This may be particularly advantageous in dynamic outdoors environments.</p><h2 id=pairing-this-system-with-an-fpv-camera>Pairing this system with an FPV camera</h2><figure><img src=/tutorials/radio_fpv/fpv_camera.jpg></figure><p>Additionally, we recommend integrating a <a href=https://www.getfpv.com/fpv/cameras.html>Radio FPV camera</a>, like those used for drone racing. These cameras have high quality, range and low latency to allow you to monitor and tele-operate MuSHR at range. Depending on the specific camera model you choose, you will likely need a transmitter and antenna to attach with it. You can power it over USB from the Jetson, and connect a <a href="https://www.amazon.com/s?k=fpv+receiver">5.8 GHz radio FPV receiver</a> to your computer to view the feed similar to an external webcam. This system is highly customizable with a wide range of compatible hardware, and you can pick what meets your needs and budget accordingly.</p><p>A STL 3D printing file that allows you to attach most 19mmx19mmx20mm FPV cameras with M2 screws is included in the <code>mushr-radio-controller</code> repository, and is mounted in an identical fashion to the push button at the front of the car.</p><h2 id=going-further---using-non-standard-controllers>Going Further - Using non-standard controllers</h2><p>Currently, the GitHub Repository supports DualShock 4 and XInput based controllers. To use other input devices, adjust the device capabilities accordingly on <code>rx.py</code> using <a href=https://python-evdev.readthedocs.io/en/latest/>evdev</a>.</p></div></div></div></div></div><div class="strip strip-primary-gradient-top-bottom"><div class="container pt-3 pb-3 pt-md-6 pb-md-3 px-2"><div class="row justify-content-left citation-row"><h1 id=citation>Citation</h1><p>If you plan to use any part of the the MuSHR platform (including tutorials, codebase, or hardware instructions) for a project or paper, please cite
<em><a href=https://arxiv.org/abs/1908.08031>MuSHR: A Low-Cost, Open-Source Robotic Racecar for Education and Research</a></em>.</p><div class=highlight><pre class=chroma>@article{srinivasa2019mushr,
 title={{MuSHR}: A Low-Cost, Open-Source Robotic Racecar for Education and Research},
 author={Srinivasa, Siddhartha S. and Lancaster, Patrick and Michalove, Johan and Schmittle, Matt and Summers, Colin and Rockett, Matthew and Smith, Joshua R. and Chouhury, Sanjiban and Mavrogiannis, Christoforos and Sadeghi, Fereshteh},
 journal={CoRR},
 volume={abs/1908.08031},
 year={2019}
}
</pre></div><br></div></div></div></div><div class=footer><div class=container><div class=row><div class=col-12><div class=footer-inner><h3 class=footer-title>MuSHR: The UW Open Racecar Project</h3><ul><li class=menu-item-forum><a href=https://github.com/prl-mushr/mushr/discussions>Community Forum</a></li><li class=menu-item-contact><a href=/contact/>Contact</a></li><li class=menu-item-home><a href=/>Home</a></li></ul></div></div></div></div></div><div class=sub-footer><div class=container><div class=row><div class=col-12><div class=sub-footer-inner><ul></ul><ul><li class=prl>Made with <font color=#FF1690>â™¥</font> at the <a href=https://personalrobotics.cs.washington.edu/>Personal Robotics Lab</a></li></ul><ul><li class=prl>Website by <a href=https://micha.love/><font color=#36CDC4>Johan</font></a></li></ul></div></div></div></div></div><script type=text/javascript src=/js/scripts.min.8504133605a277da18f0d58cfd2e90d154962f4a961543a6e2f0a459a2d05462.js></script>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-146151202-1"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-146151202-1")</script></body></html>